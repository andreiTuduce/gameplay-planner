(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[329],{34953:function(e,t,i){Promise.resolve().then(i.bind(i,53301))},53301:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return Pets}});var n=i(57437),s=i(97280),r=i(2265),l=i(82057);i(42996);var a=i(15873),o=i(58768),d=i(81344),c=i(51553);i(23701);var p=i(37790),x=i(49011),u=i(62109),h=i(16691),m=i.n(h),g=i(5337);let filterBonuses=(e,t)=>e.filter(t);function StaticPetItem(e){let{petData:t,highlight:i,showNameOnly:s,statMode:r,groupsCacheRunTime:l,suggestedPet:a}=e,{petId:o,location:d,img:h,name:y,pet:f}=t,v=(0,n.jsx)("ul",{style:{margin:"0 0 0 0"},children:filterBonuses(f.BonusList,e=>e.ID<1e3).map((e,t)=>{var i;let s=u.Z.calcEquipBonus(f,e);return(0,n.jsxs)("li",{children:[null===(i=c.bO[e.ID])||void 0===i?void 0:i.label,": ",s.toExponential(2)]},t)})}),j=(0,n.jsx)("ul",{style:{margin:"0 0 0 0"},children:filterBonuses(f.BonusList,e=>e.ID>=1e3&&e.ID<5e3).map((e,t)=>{var i;return(0,n.jsxs)("li",{children:[null===(i=c.bO[e.ID])||void 0===i?void 0:i.label,": ",Number(e.Power).toExponential(2)]},t)})}),b=u.Z.calculatePetBaseDamage(f,f.Rank);return b=b<100?p.Z.roundInt(b):b.toExponential(2),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(x.Z,{tooltip:(0,n.jsxs)("div",{className:"tooltip-custom ",children:[(0,n.jsx)("h3",{style:{marginTop:"0",marginBottom:"3px",textAlign:"center"},children:"".concat(y," -> ").concat(d)}),(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,n.jsx)("div",{children:"Rank: ".concat(f.Rank)}),(0,n.jsx)("div",{children:"Level: ".concat(f.Level)}),(0,n.jsx)("div",{children:"Damage: ".concat(b)})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h4",{style:{margin:"6px 0 6px 0"},children:"Active Bonuses"}),v]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h4",{style:{margin:"6px 0 6px 0"},children:"Expedition Bonuses:"}),j]})]}),children:[!s&&(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(m(),{alt:"in game image of ".concat(y),src:h,className:"item-image",style:{objectFit:"scale-down",width:"auto",height:"auto"},unoptimized:!0,priority:!0})}),s&&(0,n.jsx)(n.Fragment,{children:y})]}),!s&&a&&!l[f.ID]&&(0,n.jsx)("div",{className:"elementToFadeInAndOut",style:{position:"absolute",top:"0",right:"0",width:"32px",height:"32px",zIndex:"4"},children:(0,n.jsx)(x.Z,{tooltip:(0,n.jsxs)("div",{className:"tooltip-custom",children:[(0,n.jsx)("div",{children:"This pet is not in an expedition team,"}),(0,n.jsx)("div",{style:{},children:"you should probably put it in"}),r&&(0,n.jsxs)("div",{style:{marginTop:"6px"},children:[(0,n.jsx)("div",{children:"or if preferred, blacklist it"}),(0,n.jsx)("div",{style:{},children:"on this page to get a different suggestion"})]})]}),forceXPlacement:"right",children:(0,n.jsx)(m(),{alt:'Letter "I" inside a circle, shows more information on hover',src:g.Z,fill:!0})})})]})}var y=i(11684),f=i(39768),v=i(94388),j=i(26566),b=i.n(j),I=i(33187),S={src:"/_next/static/media/drag_icon.9988a74e.svg",height:93,width:95,blurWidth:0,blurHeight:0},C=i(82528),D=i(92189);function PetComboDisplay(e){let{petCombos:t,unlockedPets:i,petMap:s}=e;if(!c.bO[t[0].BonusID])return(0,n.jsx)(n.Fragment,{});let r=c.bO[t[0].BonusID].label,p=t.length,x=0,u={};for(let e=0;e<t.length;e++){let n=t[e],s=!0;n.BonusID in u||(u[n.BonusID]={});for(let e=0;e<n.PetID.length;e++)if(-99!==n.PetID[e]&&!(n.PetID[e]in i)){s=!1;break}s&&(x++,u[n.BonusID][n.ID]=!0),2===n.PetID.length&&n.PetID.push(-99)}let h=Array(p).fill(!0);for(let e=0;e<p;e++)e+1>x&&(h[e]=!1);return(0,n.jsxs)(l.Z,{children:[(0,n.jsx)(a.Z,{expandIcon:(0,n.jsx)(d.Z,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:(0,n.jsxs)("div",{style:{display:"flex",flex:"1",justifyContent:"space-between"},children:[(0,n.jsx)("div",{children:r}),(0,n.jsx)("div",{style:{marginLeft:"12px"},children:h.map((e,t)=>e?(0,n.jsx)("span",{className:"greenDot",style:{margin:"0 1px 0 1px"}},t):(0,n.jsx)("span",{className:"redDot",style:{margin:"0 1px 0 1px"}},t))})]})}),(0,n.jsx)(o.Z,{children:(0,n.jsx)("div",{style:{display:"flex",flexDirection:"column",width:"270px",position:"relative"},className:"grayStripes",children:t&&t.map((e,r)=>{let l=e.PetID,a="";return a=0===r?"0":u[e.BonusID][e.ID]===u[t[r-1].BonusID][t[r-1].ID]?"-5px 0 0 0":"0 0 0 0",(0,n.jsx)("div",{style:{display:"flex",margin:a,border:"5px solid ".concat(u[e.BonusID][e.ID]?"green":"red")},children:l.map((e,t)=>{let r=c._Q.find(t=>t.petId===e);return(0,n.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"90px",height:"90px",opacity:e in i||-99===e?"":"0.6"},className:e in i||-99===e?"lightGrayBackground":"",children:-99!==e&&(0,n.jsx)(StaticPetItem,{petData:{...r,pet:s[e]},highlight:e in i})},t)})},r)})})})]})}function Pets(){let e,t,i,l;let[a,o]=(0,r.useState)(!1);(0,r.useEffect)(()=>{o(s.isMobile),s.isMobile&&setTimeout(()=>{var e=document.querySelector('meta[name="viewport"]');e&&(e.content="initial-scale=0.1",e.content="width=1200")},500)},[]);let[d,x]=b()("userData",C),[h,g]=(0,r.useState)(C);(0,r.useEffect)(()=>{g(d)},[d]);let[j,T]=(0,r.useState)(!1),[N,w]=(0,r.useState)({}),[O,Z]=b()("useExpedition",!1),[A,P]=(0,r.useState)(!1);(0,r.useEffect)(()=>{P(O)},[O]);let[L,B]=(0,r.useState)({}),[k,J]=b()("groupsCache",{});(0,r.useEffect)(()=>{B(k)},[k]);let[W,R]=(0,r.useState)(!1),[_,M]=(0,r.useState)({}),[E,z]=b()("manualEnabledPets",{});(0,r.useEffect)(()=>{R(!0),M(E)},[E]);let[q,F]=(0,r.useState)([]),[H,G]=(0,r.useState)({}),[V,Q]=(0,r.useState)(""),[Y,U]=(0,r.useState)({}),[K,X]=(0,r.useState)(!1),[$,ee]=(0,r.useState)(!1),[et,ei]=(0,r.useState)({}),[en,es]=b()("customPresets",{});(0,r.useEffect)(()=>{ei(en)},[en]);let[er,el]=(0,r.useState)(""),ea=h.PetsSpecial;[e,t,i,l]=(0,r.useMemo)(()=>{let e=u.Z.findBestTeam(h,{statMode:j,statModePets:N,manualEnabledPets:A?_:{},priorityList:q,priorityMap:H,petWhiteList:Y}),t=e[2];for(let[e,i]of Object.entries(H))!(i.id>=1e3)&&(t[i.id]||0===i.count||(t[i.id]={ID:i.id,Power:0,Gain:0,count:0,sum:0,label:i.label}));return e},[h,q,H,Y,A,_,j,N]);let[eo,ed]=(0,r.useState)({}),[ec,ep]=(0,r.useState)({}),[ex,eu]=(0,r.useState)({});(0,r.useMemo)(()=>{X(!0);let e={},t={},i={},n={},s={},r={};for(let l=0;l<3;l++){let a,o,d,c;switch(l){case 0:e=JSON.parse(JSON.stringify(D.AI[h.AscensionCount>D.ZT?D.ZT:h.AscensionCount].priorityList)),t=JSON.parse(JSON.stringify(D.AI[h.AscensionCount>D.ZT?D.ZT:h.AscensionCount].priorityMap)),D.AI[h.AscensionCount>D.ZT?D.ZT:h.AscensionCount].petWhiteList&&JSON.parse(JSON.stringify(D.AI[h.AscensionCount>D.ZT?D.ZT:h.AscensionCount].petWhiteList));break;case 1:e=JSON.parse(JSON.stringify(D.yq[h.AscensionCount>D.ZT?D.ZT:h.AscensionCount].priorityList)),t=JSON.parse(JSON.stringify(D.yq[h.AscensionCount>D.ZT?D.ZT:h.AscensionCount].priorityMap)),D.yq[h.AscensionCount>D.ZT?D.ZT:h.AscensionCount].petWhiteList&&JSON.parse(JSON.stringify(D.yq[h.AscensionCount>D.ZT?D.ZT:h.AscensionCount].petWhiteList));break;case 2:e=JSON.parse(JSON.stringify(D.yu[h.AscensionCount>D.ZT?D.ZT:h.AscensionCount].priorityList)),t=JSON.parse(JSON.stringify(D.yu[h.AscensionCount>D.ZT?D.ZT:h.AscensionCount].priorityMap)),D.yu[h.AscensionCount>D.ZT?D.ZT:h.AscensionCount].petWhiteList&&JSON.parse(JSON.stringify(D.yu[h.AscensionCount>D.ZT?D.ZT:h.AscensionCount].petWhiteList));break;case"None":e=[],t={}}[a,o,d,c]=u.Z.findBestTeam(h,{priorityList:e,priorityMap:t,petWhiteList:i,manualEnabledPets:A?_:{}});let p=a.concat(o);switch(l){case 0:n=p;break;case 1:s=p;break;case 2:r=p}}let l={},a={satisfied:!1,requiredID:{4:!0,16:!0}};if(!a.satisfied){let e=!1;Object.keys(a.requiredID).forEach(t=>{n.find(e=>e.BonusList.find(e=>e.ID===Number(t)))||(e=!0)}),e||(a.satisfied=!0,a.team=n)}if(!a.satisfied){let e=!1;Object.keys(a.requiredID).forEach(t=>{s.find(e=>e.BonusList.find(e=>e.ID===Number(t)))||(e=!0)}),e||(a.satisfied=!0,a.team=s)}if(!a.satisfied){let e=!1;Object.keys(a.requiredID).forEach(t=>{r.find(e=>e.BonusList.find(e=>e.ID===Number(t)))||(e=!0)}),e||(a.satisfied=!0,a.team=r)}let o=n.concat(s.concat(r)),d={};o.forEach(e=>{d[e.ID]=e,e.BonusList.forEach(e=>{!(e.ID>=1e3)&&(l[e.ID]||(l[e.ID]=0),l[e.ID]++)})});let c=JSON.parse(JSON.stringify(D.xx.priorityList)),p=JSON.parse(JSON.stringify(D.xx.priorityMap)),x=D.xx.petWhiteList?JSON.parse(JSON.stringify(D.xx.petWhiteList)):{};for(let[e,t]of(ed(c),ep(p),eu(x),w(d),Object.entries(p)))e in a.requiredID?a.satisfied&&(p[e].count=0):e in l&&"21"!==e&&"22"!==e&&"5"!==e&&"6"!==e&&(p[e].count=0)},[h,_,A]);let eh={},em={};ea.forEach((i,n)=>{if(0===n||!c.bO[i.BonusID])return;let s=0,r=0;for(let n=0;n<i.PetID.length;n++){if(!(i.PetID[n]<=0)){s++;if(e.find(e=>e.ID===i.PetID[n])||t.find(e=>e.ID===i.PetID[n])){r++;continue}}}r===s?eh[i.BonusID]?eh[i.BonusID].count++:eh[i.BonusID]={...i,rootName:c.bO[i.BonusID].rootName,odd:c.bO[i.BonusID].odd,name:c.bO[i.BonusID].label,count:1}:r>0&&(em[i.BonusID]?em[i.BonusID].count++:em[i.BonusID]={...i,rootName:c.bO[i.BonusID].rootName,odd:c.bO[i.BonusID].odd,name:c.bO[i.BonusID].label,count:1})});let eg=ea.reduce((e,t,i)=>(0===i||(e[t.BonusID]=e[t.BonusID]?[...e[t.BonusID],t]:[t]),e),{}),ey={},ef={},ev=h.PetsCollection.filter(e=>{ef[e.ID]=e;let t=!!e.Locked;return t}),ej=[];for(let e=0;e<ev.length;e++){let t=ev[e];ey[t.ID]=t,Y[t.ID]||ej.push({label:t.name,id:t.ID})}let eb={};h.PetsCollection.forEach(e=>{e.BonusList.forEach(t=>{eb[t.ID]=e})});let eI=[];for(let[e,t]of Object.entries(c.bO))t.id>=1e3||H[e]||!eb[t.id]||eI.push({label:t.label,id:t.id});return(0,n.jsx)("div",{style:{display:"flex",flex:"1",backgroundColor:"black",position:"relative"},children:(0,n.jsxs)("div",{style:{display:"flex",flex:"1",backgroundColor:"rgba(255,255,255, 0.05)",paddingLeft:"12px"},children:[(0,n.jsxs)("div",{style:{marginTop:"12px",backgroundColor:"rgba(255,255,255, 0.05)",maxHeight:"calc(100% - 40px)",padding:"6px",borderRadius:"6px",border:"2px solid rgba(255,255,255,0.7)"},children:[(0,n.jsx)("h2",{className:"importantText",style:{textAlign:"center",marginTop:"0",marginBottom:"12px"},children:"Pet Combo List"}),(0,n.jsx)("div",{style:{borderRadius:"6px",maxHeight:"calc(100% - 42px)",height:"calc(100% - 42px)",overflow:"hidden"},children:(0,n.jsx)("div",{className:"importantText",style:{display:"flex",flexDirection:"column",maxHeight:"100%",overflowY:"auto"},children:eg&&Object.values(eg).map((e,t)=>(0,n.jsx)(PetComboDisplay,{petMap:ef,petCombos:e,unlockedPets:ey},t))})})]}),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"teamBuilder importantText",style:{borderRadius:"6px",border:"2px solid rgba(255,255,255,0.7)",margin:"12px 24px",maxHeight:"calc(100% - 24px)",overflow:"auto",display:"flex",alignItems:"flex-start",backgroundColor:"rgba(255,255,255, 0.05)",minWidth:a?"903px":""},children:[(0,n.jsxs)("div",{style:{alignSelf:"flex-start",minWidth:"580px",margin:"0 12px"},children:[(0,n.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,n.jsx)("div",{style:{fontSize:"32px",fontWeight:"bold",textAlign:"center"},children:"Priority List"})}),(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"12px"},children:[(0,n.jsx)(f.Z,{margin:"1px 0 0 6px",data:{list:eI},placeholder:"Select a bonus",onSelect:e=>{y.ZP.event({category:"pets_interaction",action:"whitelist_bonus",label:e.label,value:e.id}),G(t=>{let i={...t};return i[e.id]={mode:"max",label:c.bO[e.id].label,id:e.id,count:-1,current:0},i}),F(t=>{let i=[...t];return i.push(e.id),i})}}),(0,n.jsxs)("div",{className:"rainbowBorder",style:{margin:"0 12px 0 0",display:"flex",borderWidth:"4px",padding:"3px"},children:[(0,n.jsx)("div",{children:"Recommended Presets"}),(0,n.jsx)("div",{children:(0,n.jsxs)("select",{className:"importantText","aria-label":"Select a default team preset",style:{maxWidth:"144px",marginLeft:"12px",backgroundColor:"#171717",borderRadius:"4px"},onChange:e=>{X(!0),y.ZP.event({category:"pets_interaction",action:"selected_recommended_team",label:e.target.value});let t={};switch(e.target.value){case"Main Team":T(!1),F(JSON.parse(JSON.stringify(D.AI[h.AscensionCount>D.ZT?D.ZT:h.AscensionCount].priorityList))),G(JSON.parse(JSON.stringify(D.AI[h.AscensionCount>D.ZT?D.ZT:h.AscensionCount].priorityMap))),t=D.AI[h.AscensionCount>D.ZT?D.ZT:h.AscensionCount].petWhiteList?JSON.parse(JSON.stringify(D.AI[h.AscensionCount>D.ZT?D.ZT:h.AscensionCount].petWhiteList)):{};break;case"Reinc. Team":T(!1),F(JSON.parse(JSON.stringify(D.yq[h.AscensionCount>D.ZT?D.ZT:h.AscensionCount].priorityList))),G(JSON.parse(JSON.stringify(D.yq[h.AscensionCount>D.ZT?D.ZT:h.AscensionCount].priorityMap))),t=D.yq[h.AscensionCount>D.ZT?D.ZT:h.AscensionCount].petWhiteList?JSON.parse(JSON.stringify(D.yq[h.AscensionCount>D.ZT?D.ZT:h.AscensionCount].petWhiteList)):{};break;case"Gear Team":T(!1),F(JSON.parse(JSON.stringify(D.yu[h.AscensionCount>D.ZT?D.ZT:h.AscensionCount].priorityList))),G(JSON.parse(JSON.stringify(D.yu[h.AscensionCount>D.ZT?D.ZT:h.AscensionCount].priorityMap))),t=D.yu[h.AscensionCount>D.ZT?D.ZT:h.AscensionCount].petWhiteList?JSON.parse(JSON.stringify(D.yu[h.AscensionCount>D.ZT?D.ZT:h.AscensionCount].petWhiteList)):{};break;case"Stat Team":F(JSON.parse(JSON.stringify(eo))),G(JSON.parse(JSON.stringify(ec))),t=JSON.parse(JSON.stringify(ex)),T(!0);break;case"None":T(!1),F([]),G({}),U({})}let i={};for(let[e,n]of Object.entries(t))ey[e]?i[e]={...ey[e],mode:n.mode}:i[e]={ID:e,name:c.ur[e].name,mode:n.mode};U(i)},defaultValue:"None",children:[!K&&(0,n.jsx)("option",{value:"None",children:"Select Preset"}),(0,n.jsx)("option",{value:"Main Team",children:"Main Team"}),(0,n.jsx)("option",{value:"Reinc. Team",children:"Reinc. Team"}),(0,n.jsx)("option",{value:"Gear Team",children:"Gear Team"}),h.AscensionCount>=5&&(0,n.jsx)("option",{value:"Stat Team",children:"Stat Team"}),K&&(0,n.jsx)("option",{value:"None",children:"Blank"})]})})]})]}),(0,n.jsx)("div",{style:{display:"flex",flex:"1",border:"1px solid gray",margin:"6px",justifyContent:"center",backgroundColor:"rgba(255,255,255, 0.04)",borderRadius:"6px",maxHeight:"58vh",paddingLeft:"6px",overflow:"hidden"},children:(0,n.jsx)("div",{style:{width:"100%",overflow:"auto"},children:(0,n.jsx)(v.t.Group,{axis:"y",values:q,onReorder:F,children:q.map((e,t)=>{let s="gray",r=H[e],a=i[e];return s=-1===r.count?"white":0===r.count?"gray":r.count===(null==a?void 0:a.count)?"#4caf50":r.count<(null==a?void 0:a.count)?"#ffeb3b":"#e53935",l[e]&&l[e].length,(0,n.jsx)(v.t.Item,{value:e,style:{marginLeft:"6px"},children:(0,n.jsxs)("div",{className:"drag",style:{margin:"6px 3px",border:"2px solid ".concat(s),display:"flex",alignItems:"center",flexDirection:"column",width:"220px",backgroundColor:"rgba(255,255,255, 0.07)",borderRadius:"6px"},children:[(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",margin:"3px 0 6px 0",borderBottom:"1px solid black"},children:[(0,n.jsx)(m(),{className:"drag noPointerEvents",src:S,style:{height:"24px",width:"auto",marginLeft:"3px"},alt:"hand in a fist with index poting at a vertical line with arrows on both ends"}),(0,n.jsx)("div",{style:{marginLeft:"6px"},children:" ".concat(H[e].label)}),(0,n.jsx)(m(),{onClick:t=>{G(t=>{let i={...t};return delete i[e],i}),F(t=>[...t].filter(t=>t!==e))},className:"hover",src:I.Z,alt:"red x",style:{height:"16px",width:"auto",marginRight:"6px"}})]}),(0,n.jsx)("div",{style:{alignSelf:"flex-start",marginLeft:"6px",marginBottom:"3px"},children:(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,n.jsx)("div",{style:{marginRight:"6px"},children:"Max Pets:"}),(0,n.jsx)("div",{children:(0,n.jsx)("input",{"aria-label":"Select how the bonus will be rewarded",style:{width:"30px",backgroundColor:"#f3f0f5"},type:"number",value:H[e].count,onChange:t=>{try{let i=Number(t.target.value);if((i=Math.floor(i))<-1||i>6)return;G(t=>{let n={...t};return n[e].count=i,n}),y.ZP.event({category:"pet_team_builder",action:"changed_bonus_max_pets",label:"".concat(H[e].label),value:i})}catch(e){console.log(e)}},min:"-1",max:"6"})})]})})]})},e)})})})}),(0,n.jsx)("div",{style:{fontSize:"32px",fontWeight:"bold",textAlign:"center"},children:"Manual Pet Selection"}),(0,n.jsx)(f.Z,{margin:"0 0 0 6px",data:{list:ej},placeholder:"Select a pet",onSelect:e=>{y.ZP.event({category:"pets_interaction",action:"whitelist_pet",label:e.label,value:e.id}),U(t=>{let i={...t};return i[e.id]={...ey[e.id],mode:"include"},i})}}),(0,n.jsx)("div",{style:{display:"flex",flex:"1",flexDirection:"column",border:"1px solid gray",justifyContent:"center",alignItems:"center",margin:"6px",backgroundColor:"rgba(255,255,255, 0.04)",borderRadius:"6px",maxHeight:"19.5vh",overflow:"hidden"},children:(0,n.jsx)("div",{style:{maxHeight:"100%",overflow:"auto",width:"100%"},children:(0,n.jsx)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:Object.values(Y).map((e,t)=>(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"250px",height:"60px",backgroundColor:"rgba(255,255,255, 0.07)",borderRadius:"6px",margin:"6px  12px"},children:[(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",height:"32px",borderBottom:"1px solid black"},children:[(0,n.jsx)("div",{style:{fontSize:"24px",marginLeft:"6px"},children:e.name}),(0,n.jsx)(m(),{className:"hover",src:I.Z,alt:"red x",style:{height:"16px",width:"auto",marginRight:"6px"},onClick:t=>{U(t=>{let i={...t};return delete i[e.ID],i})}})]}),(0,n.jsx)("div",{children:(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",margin:"6px"},children:[(0,n.jsx)("div",{style:{marginRight:"6px"},children:"Placement:"}),(0,n.jsx)("div",{children:(0,n.jsxs)("select",{"aria-label":"Specifiy if the pet is included or excluded",style:{maxWidth:"144px"},onChange:t=>{U(i=>{let n={...i};return n[e.ID].mode=t.target.value,n})},defaultValue:Y[e.ID].mode,value:Y[e.ID].mode,children:[(0,n.jsx)("option",{value:"include",children:"include"}),(0,n.jsx)("option",{value:"exclude",children:"exclude"})]})})]})})]},t))})})})]}),(0,n.jsxs)("div",{style:{marginRight:"6px",marginTop:"6px"},children:[(0,n.jsxs)("div",{style:{backgroundColor:"rgba(255,255,255, 0.07)",padding:"6px",borderRadius:"6px"},children:[(0,n.jsx)("div",{style:{fontSize:"32px",fontWeight:"bold",textAlign:"center"},children:"Best Team"}),!!K&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{style:{padding:"12px"},children:Object.values(i).map((e,t)=>{if(e.ID>=1e3)return null;let s="lightgray",r=H[e.ID];return s=r?-1===r.count?"white":0===r.count?"gray":r.count===e.count?"#4caf50":r.count<e.count?"#ffeb3b":"#e53935":"lightgray",(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,n.jsx)("div",{style:{width:"150px"},children:e.label}),(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,n.jsx)("div",{style:{color:s},children:e.sum.toExponential(2)+"%"}),(0,n.jsx)("div",{style:{color:s,marginLeft:"6px"},children:" (".concat(i[e.ID].count,")")})]})]},t)},[])}),Object.values(eh).length>0&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{style:{fontSize:"24px",fontWeight:"bold",textAlign:"center"},children:"Team Combos"}),(0,n.jsx)("div",{style:{padding:"12px"},children:Object.values(eh).map((e,t)=>(0,n.jsxs)("div",{style:{display:"flex"},children:[(0,n.jsx)("div",{style:{width:"150px"},children:e.rootName}),(0,n.jsxs)("div",{children:[e.odd&&(0,n.jsx)(n.Fragment,{children:"x".concat(e.count)}),!e.odd&&(0,n.jsx)(n.Fragment,{children:p.Z.roundInt(e.BonusPower*e.count)+"%"})]})]},t),[])})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{style:{display:"flex"},children:t.map((e,t)=>{let i=c._Q.find(t=>t.petId===e.ID);return(0,n.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"90px",height:"90px",border:"1px gray solid",borderRadius:"6px",position:"relative"},children:(0,n.jsx)(StaticPetItem,{suggestedPet:!0,statMode:j,groupsCacheRunTime:L,petData:{...i,pet:ef[e.ID]}})},t)},[])}),(0,n.jsx)("div",{style:{display:"flex"},children:e.map((e,t)=>{let i=c._Q.find(t=>t.petId===e.ID);return(0,n.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"90px",height:"90px",border:"1px gray solid",borderRadius:"6px",position:"relative"},children:(0,n.jsx)(StaticPetItem,{suggestedPet:!0,statMode:j,groupsCacheRunTime:L,petData:{...i,pet:ef[e.ID]}})},t)},[])})]})]})]}),(0,n.jsxs)("div",{style:{backgroundColor:"rgba(255,255,255, 0.07)",padding:"6px",marginTop:"12px",borderRadius:"6px"},children:[(0,n.jsx)("div",{style:{fontSize:"24px",fontWeight:"bold",textAlign:"center",marginBottom:"6px"},children:"Custom Presets"}),(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[(0,n.jsx)("input",{type:"text","aria-label":"Specify name of the current preset to save it under",onChange:e=>{Q(e.target.value)},style:{width:"141px",marginRight:"12px"}}),(0,n.jsx)("button",{disabled:0===V.trim().length,onClick:e=>{y.ZP.event({category:"pets_interaction",action:"save_custom_preset",label:V}),es(e=>{let t={...e},i={};for(let[e,t]of Object.entries(Y))i[e]={ID:e,mode:t.mode};return t[V]={priorityList:q,priorityMap:H,petWhiteList:i},t})},children:"Save Current"})]}),(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"center",marginTop:"6px"},children:[(0,n.jsx)("div",{style:{marginRight:"12px",marginLeft:"5px",width:"141px"},children:"Select saved preset"}),(0,n.jsxs)("select",{"aria-label":"Specify which custom preset to load in",style:{width:"90px",marginLeft:"12px"},onChange:e=>{if(ee(!0),X(!0),y.ZP.event({category:"pets_interaction",action:"load_custom_preset",label:e.target.value}),"None"===e.target.value){ee(!0);return}F(et[e.target.value].priorityList),G(et[e.target.value].priorityMap);let t={};for(let[i,n]of Object.entries(et[e.target.value].petWhiteList))ey[i]?t[i]={...ey[i],mode:n.mode}:t[i]={ID:i,name:c.ur[i].name,mode:n.mode};U(t)},defaultValue:" ",children:[!$&&(0,n.jsx)("option",{value:"None",children:"None"}),Object.keys(et).map(e=>(0,n.jsx)("option",{value:e,children:e},e))]})]}),(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"center",marginTop:"6px"},children:[(0,n.jsx)("div",{style:{marginRight:"12px",marginLeft:"5px",width:"141px"},children:"Delete preset"}),(0,n.jsxs)("select",{"aria-label":"Specify which custom preset to delete",style:{width:"90px",marginLeft:"12px"},onChange:e=>{y.ZP.event({category:"pets_interaction",action:"delete_custom_preset",label:e.target.value}),es(t=>{let i={...t};return delete i[e.target.value],i})},value:"None",children:[(0,n.jsx)("option",{value:"None",children:"None"}),Object.keys(et).map(e=>(0,n.jsx)("option",{value:e,children:e},e))]})]})]}),(0,n.jsxs)("div",{style:{backgroundColor:"rgba(255,255,255, 0.07)",padding:"6px",marginTop:"12px",borderRadius:"6px"},children:[(0,n.jsx)("div",{style:{fontSize:"24px",fontWeight:"bold",textAlign:"center",marginBottom:"6px"},children:"Share Presets"}),(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[(0,n.jsx)("input",{type:"text","aria-label":"Enter a preset code to import it",onChange:e=>{el(e.target.value)},style:{width:"141px",marginRight:"12px"}}),(0,n.jsx)("button",{disabled:0===er.trim().length,onClick:e=>{try{y.ZP.event({category:"pets_interaction",action:"imported_custom_preset"}),X(!0);let e=JSON.parse(er);F(e.priorityList),G(e.priorityMap);let t={};for(let[i,n]of Object.entries(e.petWhiteList))ey[i]?t[i]={...ey[i],mode:n.mode}:t[i]={ID:i,name:c.ur[i].name,mode:n.mode};U(t)}catch(e){}},children:"Import Preset"})]}),(0,n.jsx)("div",{style:{display:"flex",justifyContent:"center",marginTop:"12px"},children:(0,n.jsx)("button",{onClick:e=>{y.ZP.event({category:"pets_interaction",action:"exported_custom_preset"});let t={},i={};for(let[e,t]of Object.entries(Y))i[e]={ID:e,mode:t.mode};t={priorityList:q,priorityMap:H,petWhiteList:i},navigator.clipboard.writeText(JSON.stringify(t))},children:"Copy Current Preset to Clipboard"})})]}),(0,n.jsxs)("div",{style:{backgroundColor:"rgba(255,255,255, 0.07)",padding:"6px",marginTop:"12px",borderRadius:"6px"},children:[(0,n.jsx)("div",{style:{fontSize:"24px",fontWeight:"bold",textAlign:"center",marginBottom:"6px"},children:"Miscellaneous Settings"}),(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[(0,n.jsx)("div",{style:{},children:"Use expedition pets"}),(0,n.jsx)("div",{children:(0,n.jsx)("input",{"aria-label":"use selected pets from expedition page",type:"checkbox",onChange:e=>{Z(!!e.target.checked),j&&setTimeout(()=>{F(JSON.parse(JSON.stringify(eo))),G(JSON.parse(JSON.stringify(ec)))},100)},checked:!!A,value:!!A})})]})]})]})]}),(0,n.jsxs)("div",{className:"teamBuilder importantText",style:{borderRadius:"6px",border:"2px solid rgba(255,255,255,0.7)",margin:"12px 12px 12px 0",maxHeight:"calc(100% - 24px)",overflow:"auto",display:"flex",flexDirection:"column",flex:"1",alignItems:"flex-start",backgroundColor:"rgba(255,255,255, 0.05)",padding:"6px",minWidth:"260px"},children:[(0,n.jsx)("div",{style:{fontSize:"32px",fontWeight:"bold",textAlign:"center",width:"100%"},children:"How To Use"}),(0,n.jsxs)("div",{style:{display:"flex",flex:"1",flexDirection:"column"},children:[(0,n.jsxs)("div",{style:{display:"flex"},children:[(0,n.jsx)("div",{style:{minWidth:"130px",width:"130px",maxWidth:"130px",marginRight:"12px",fontSize:"20px"},children:"Priority List:"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{children:"If you are new, it is recommended to select one of the presets from `Recommended Presets`"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{style:{margin:"6px 6px 6px 0"},children:"Add any bonus to the priority list, bonuses at the top are weighed more than those below them."}),(0,n.jsx)("div",{style:{margin:"6px 6px 6px 0"},children:"Setting a value to -1 means it will always reward pets for having this bonus"}),(0,n.jsx)("div",{style:{margin:"6px 6px 6px 0"},children:"Setting a value to 0 means this bonus is not rewarded at all"}),(0,n.jsx)("div",{style:{margin:"6px 6px 6px 0"},children:"Setting a value to x means this bonus is rewarded until x number of pets have this bonus, then the reward is 0"})]})]})]}),(0,n.jsxs)("div",{style:{display:"flex"},children:[(0,n.jsx)("div",{style:{minWidth:"130px",width:"130px",maxWidth:"130px",marginRight:"12px",fontSize:"20px"},children:"Recommended Presets:"}),(0,n.jsx)("div",{children:(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{style:{margin:"6px 6px 6px 0"},children:"Main Team: This is the team you will run majority of your run"}),(0,n.jsx)("div",{style:{margin:"6px 6px 6px 0"},children:"Reinc. Team: This is the team you will run when you want to reincarnate - run for at least 1 hour before reincarnation to get pet levels up"}),(0,n.jsx)("div",{style:{margin:"6px 6px 6px 0"},children:"Gear Team: This is the team you will run when searching for new/better gear"}),(0,n.jsx)("div",{style:{margin:"6px 6px 6px 0"},children:"Stat Team: This is the team you will run on the side for short bursts of time to cover any missing stats from the other 3 team presets"})]})})]}),(0,n.jsxs)("div",{style:{display:"flex"},children:[(0,n.jsx)("div",{style:{minWidth:"130px",width:"130px",maxWidth:"130px",marginRight:"12px",fontSize:"20px"},children:"Custom Presets:"}),(0,n.jsx)("div",{children:(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{style:{margin:"6px 6px 6px 0"},children:"You can save/load your own presets by entering a name and pressing `Save Current`."}),(0,n.jsx)("div",{style:{margin:"6px 6px 6px 0"},children:"To load preset in, select it from the drop down next to `Select saved preset`"}),(0,n.jsx)("div",{style:{margin:"6px 6px 6px 0"},children:"To delete a preset, select it from the drop down next to `Delete preset`"})]})})]}),(0,n.jsxs)("div",{style:{display:"flex"},children:[(0,n.jsx)("div",{style:{minWidth:"130px",width:"130px",maxWidth:"130px",marginRight:"12px",fontSize:"20px"},children:"Share Presets:"}),(0,n.jsx)("div",{children:(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{style:{margin:"6px 6px 6px 0"},children:"You can share/import other players presets"}),(0,n.jsx)("div",{style:{margin:"6px 6px 6px 0"},children:"To share your preset, press `Copy Current Preset...` the value is automatically copied to your clipboard"}),(0,n.jsx)("div",{style:{margin:"6px 6px 6px 0"},children:"To import someone elses preset, copy their shared value into the empty text box and press 'Import Preset'"})]})})]})]})]})]})]})})}y.ZP.initialize([{trackingId:"G-GGLPK02VH8"}])},23701:function(){},42996:function(){}},function(e){e.O(0,[413,201,280,385,689,755,528,930,121,971,472,744],function(){return e(e.s=34953)}),_N_E=e.O()}]);